import{_ as p,i as c,m as u,c as h,a as s,q as _,w as l,v as d,s as f,o as g,p as w,h as b}from"./index-DqV6pCQQ.js";const m=1500,v=2e3,x={data(){return{api:{url:"https://ec-course-api.hexschool.io/v2",path:"sky030b"},loginData:{username:"",password:""}}},methods:{async login(){try{const{data:e}=await this.axios.post(`${this.api.url}/admin/signin`,this.loginData),{token:o,expired:r}=e;c.success("登入成功。",{autoClose:m}),setTimeout(()=>{this.setToken(o,r),this.$router.push("/backstage")},m+500)}catch(e){c.error(e.response.data.message,{autoClose:v})}},...u(f,["setToken"])},mounted(){document.querySelector("#username").focus()}},a=e=>(w("data-v-39ccf3b9"),e=e(),b(),e),y={class:"container h-100"},D={class:"row justify-content-center"},k=a(()=>s("h1",{class:"h3 mb-3 font-weight-normal text-center p-3"}," 請先登入 ",-1)),I={class:"col"},S={class:"form-floating mb-3"},q=a(()=>s("label",{for:"username"},"Email address",-1)),T={class:"form-floating"},V=a(()=>s("label",{for:"password"},"Password",-1)),B=a(()=>s("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," 登入 ",-1)),C=a(()=>s("p",{class:"mt-5 mb-3 text-muted text-center"}," © 2021~∞ - 六角學院 ",-1));function E(e,o,r,M,n,i){return g(),h("div",y,[s("div",null,[s("div",D,[k,s("div",I,[s("form",{id:"form",class:"form-signin",onSubmit:o[2]||(o[2]=_((...t)=>i.login&&i.login(...t),["prevent"]))},[s("div",S,[l(s("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com","onUpdate:modelValue":o[0]||(o[0]=t=>n.loginData.username=t),required:"",autofocus:""},null,512),[[d,n.loginData.username]]),q]),s("div",T,[l(s("input",{type:"password",class:"form-control",id:"password",placeholder:"Password","onUpdate:modelValue":o[1]||(o[1]=t=>n.loginData.password=t),required:""},null,512),[[d,n.loginData.password]]),V]),B],32)])]),C])])}const U=p(x,[["render",E],["__scopeId","data-v-39ccf3b9"]]);export{U as default};
